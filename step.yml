title: |-
  Qyrus WebApp Automate
summary: Run Web Automation Tests On Qyrus
description: |
  This step will execute the configured tests on web automation service in Qyrus. 
  Qyrus is a end to end testing platform designed to test Web, Mobile and APIs for all digital enterprises. With its codeless approach to testing Web, Mobile & APIs, Qyrus is the fastest way to start the journey of automated testing for your enterprise.
website: https://github.com/QQyrus/bitrise-step-qyrus-web-test-runner
source_code_url: https://github.com/QQyrus/bitrise-step-qyrus-web-test-runner
support_url: https://github.com/QQyrus/bitrise-step-qyrus-web-test-runner/issues
host_os_tags:
  - osx-10.10
  - ubuntu-16.04

type_tags:
  - test

is_requires_admin_user: true
is_always_run: false
is_skippable: false
run_if: ""

deps:
  brew:
  - name: node
  apt_get:
  - name: nodejs

toolkit:
  bash:
    entry_file: step.sh

inputs:
  # All parameters required to run test on Qyrus Cloud
  - enable_debug: "no"
    opts:
      title: "Debug mode"
      description: |
        Step prints additional debug information if this option
        is enabled
      is_required: true
      value_options:
        - "yes"
        - "no"
  - gateway_url:
    opts:
      title: "Gateway URL"
      summary: Qyrus provided gateway url
      description: |
        Enter the url of the gateway which is provided by Qyrus else
        contact support@qyrus.com
      is_required: true
  - qyrus_username:
    opts:
      title: "Qyrus Username"
      summary: Your Qyrus devops username
      description: |
        The username used to run devops tasks on Qyrus.
      is_required: true
  - qyrus_password:
    opts:
      title: "Qyrus Password"
      summary: Your Qyrus devops password
      description: |
        The password used to run devops tasks on Qyrus.
      is_required: true
      is_sensitive: true
  - qyrus_team_name:
    opts:
      title: "Qyrus Team Name"
      summary: Enter the team name
      description: |
        Team name you can find by logging into Qyrus app. Copy the team name and paste it.
      is_required: true
  - qyrus_project_name:
    opts:
      title: "Qyrus Project Name"
      summary: Enter the project name
      description: |
        Project name you can find by logging into Qyrus app. Copy the team name and paste it.
      is_required: true
  - qyrus_suite_name:
    opts:
      title: "Qyrus Suite Name"
      summary: Enter the project name
      description: |
        Suite name you can find by logging into Qyrus app. Copy the team name and paste it.
      is_required: true
  - operating_system:
    opts:
      title: "Operating System"
      summary: Enter your Operating System
      description: |
        Enter Operating System which you use.
      is_required: true
      value_options:
        - "Windows"
        - "Linux"
  - browser_name:
    opts:
      title: "Browser"
      summary: Enter the browser
      description: |
        Select Your Browser.
      is_required: true 
      value_options:
        - "chrome"
        - "safari"
        - "MicrosoftEdge"
        - "firefox"
  - environment_name:
    opts:
      title: "Environment Name"
      summary: Enter the variables environment name
      description: |
        Please provide the environment name in which you have the variables defined.
      is_required: false
  - on_error_continue:
    opts:
      title: "on_error_continue"
      summary: Do you want to continue execution on step failure
      description: |
        ENTER value (true/false) for onErrorContinue, if you still want to run onError.
      is_required: false
  - email_id:
    opts:
      title: "emailId"
      summary: Enter the EmailId
      description: |
        Enter Your EmailId.
      is_required: true   
outputs:
  - QYRUS_TEST_REPORT_URL: null
    opts:
      description: |
        The output of test is the report URL which can be used
        to download and analyse the test steps
      summary: Its the report download URL
      title: Qyrus report download url